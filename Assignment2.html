<script>
//Liudmila Zyrianova
// Assignment 2 
//1/3/2019


// myEach
function myEach(arr, action){    
    for (let i = 0; i < arr.length; i++) {
        action(arr[i]);
    }
}
//Test for myEach
console.log("myEach:");
const arr10 = [1,2,3]
arr100 = myEach(arr10, console.log);  
console.log(arr10);
console.log(arr100);


// myMap
function myMap(arr, action) {
    let passed = [];
    for (let i = 0; i < arr.length; i++) {
        passed.push(action(arr[i]));
    }
    return passed;
}
// Test for myMap
console.log("myMap:");
function fun(n){    
    n=n+2;
    console.log(n);
    return n;
}
const arr20 = [4,5,6]
arr200 = myMap(arr20, fun); 
console.log(arr20);
console.log(arr200);


// myFilter
function myFilter(arr, test) {
    let passed = [];
    for (let i = 0; i < arr.length; i++) {
        if (test(arr[i])) {
            passed.push(arr[i]);        
        }    
    }
    return passed;
}
// Test myFilter
console.log("myFilter:");
function test1(n){
    return (n>7);
}
const arr30 = [7,8,9];
arr300 = myFilter(arr30, test1); 
console.log(arr30); 
console.log(arr300); 


// mySome
function mySome(arr, test) {
    for (let i = 0; i < arr.length; i++) {
        if (test(arr[i])) {
            return true;      
        }    
    }
    return false;
}
// Test mySome
console.log("mySome:");
function test2(n){
    return n % 2 === 0;
}
const arr40 = [10,11,12];
arr400 = mySome(arr40, test2); 
console.log(arr40); 
console.log(arr400); 


// myEvery
function myEvery(arr, test) {
    let k = 0;
    for (let i = 0; i < arr.length; i++) {      
        if (test(arr[i])) {
            k=k+1;     
        }    
    }
    return (k === arr.length);
}
//Test myEvery
console.log("myEvery:");
function test3(n){
    return n < 15;
}
const arr50 = [13,14,15];
arr500 = myEvery(arr50, test3); 
console.log(arr50); 
console.log(arr500); 


// myReduce
function myReduce(arr, action, iter = 0) {
    let current = iter;
    for (let i = 0; i < arr.length; i++) {
        current = action(current, arr[i]);
        
    }
    return current;
}
// Test myReduce
console.log("myReduce:");
function act3(a,b){
    return a + b;
}
const arr60 = [16,17,18];
arr600 = myReduce(arr60, act3, 5); 
console.log(arr60); 
console.log(arr600); 




//myRange and mySum

// myRange
function myRange(start, end, step = 1) {
    let passed = [];
    if (step == 0) return passed.push(start);
    if (step > 0) {
        for (let i = start; i <= end; i = i + step) {
            passed.push(i);          
        }
    } 
    if (step < 0) {
        for (let i = start; i >= end; i = i + step) {
            passed.push(i);          
        }
    }
    return passed;
}
// Test myRange
console.log("myRange:");
console.log(myRange(1,10)); 
console.log(myRange(5,2,-1)); 
console.log(myRange(1,10,2)); 

// mySum
function mySum(arr) {
    let s=0;
    for (let i = 0; i < arr.length; i++) {
        s = s + arr[i];        
    }
    return s;
}
//Test mySum
console.log("myRange and mySum:");
console.log(mySum(myRange(1, 10)));




// myReverseArray and myReverseArrayInPlace
function myReverseArray(arr){
    let passed = [];
    for (let i = arr.length-1; i >= 0; i = i-1) {
        passed.push(arr[i]);          
    }
    return passed;
}
function myReverseArrayInPlace(arr){
    for (let i = 0; i < arr.length /2; i++) {
        let k = arr[i];
        arr[i] = arr[arr.length-1-i];
        arr[arr.length-1-i] = k;
    }
}
// Test myReverseArray and myReverseArrayInPlace
console.log("myReverseArray and myReverseArrayInPlace:");
console.log(myReverseArray(["A", "B", "C"]));
let arrayValue = [1, 2, 3, 4, 5, 6];
myReverseArrayInPlace(arrayValue);
console.log(arrayValue);




// myList
function arrayToList(arr){
    let list = {value: arr[arr.length-1], rest: null};
    for (let i = arr.length-2; i >=0; i=i-1) {
        list = {value: arr[i], rest: list};
    }
    return list;
}
// Test
console.log("myList:");
console.log(arrayToList([5,10, 20]));

function listToArray(list){
    let passed = [];
    while (list != null) {
        passed.push(list['value']);
        list = list['rest'];          
    }
    return passed;
}
// Test
console.log(listToArray(arrayToList([10, 5, 7, 20, 30])));

function prepend(elem, list){
    list = {value: elem, rest: list};
    return list;
}
// Test
console.log(prepend(10, prepend(20, null)));

function nth(list, n){
    let i = 0;
    while ((i < n) && (list != null )) {
        list = list['rest']; 
        i++;         
    }
    if (list == null) return undefined;
    else return list['value'];
}
// Test
console.log(nth(arrayToList([10, 20, 30]), 1));




// my deepEqual
function deepEqual(a, b){
    if ((typeof a == "object" && a != null) && (typeof b == "object" && b != null)) {
        if (Object.keys(a).length != Object.keys(b).length){
            return false;
        }         
        for (var elem in a) {
            if (b.hasOwnProperty(elem)){     
                if (! deepEqual(a[elem], b[elem])){
                    return false;
                }                    
            } else {
                return false;
            }                
        }
        return true;
    } else {
        return ( a === b ); 
    }
}  
// Test deepEqual
console.log("deepEqual:");
let obj = {here: {is: "an"}, object: 2};
let obj1 = {here: {is: "an1"},object: 2};
console.log(deepEqual(obj, obj1));
console.log(deepEqual(obj, obj));


</script>
